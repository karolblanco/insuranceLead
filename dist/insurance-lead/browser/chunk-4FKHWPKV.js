import{a as ce,b as se,c as fe,d as ue,e as xe,f as Ce,g as be,h as he,i as ve,j as _e,k as ge,m as Se,n as ye,p as Ie,r as Ee,s as Me,t as Ne,u as De,v as Te,w as He}from"./chunk-43KO6KHD.js";import{$ as w,L as N,M as Z,Ma as P,Oa as we,P as ee,Pa as Fe,Qa as ke,R as te,T as D,U as ie,V as ne,W as T,Z as H,a as J,aa as C,b as K,c as Q,ca as F,da as oe,fa as ae,ga as re,ha as le,i as X,ia as me,j as V,ja as de,ka as pe,na as k}from"./chunk-UQZZTRZR.js";import{$ as L,Ab as i,Bb as d,Cb as s,Db as f,Fb as M,Ib as h,Kb as A,Tb as q,Ub as a,Wa as m,Wb as x,Xa as p,Xb as U,Yb as Y,Zb as W,_ as E,da as G,ia as v,j as z,ja as B,ob as c,pb as $,qa as S,qb as b,ra as y,zb as o}from"./chunk-QVJMDBUU.js";var R=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=v({type:e,selectors:[["app-index"]],decls:8,vars:0,consts:[[1,"container"],["routerLink","policyHolder/index",1,"button"]],template:function(n,r){n&1&&(o(0,"body")(1,"div",0)(2,"h1"),a(3,"Bienvenido a Nuestra Plataforma"),i(),o(4,"p"),a(5,"Descubre m\xE1s sobre nosotros y lo que ofrecemos."),i(),o(6,"a",1),a(7,"Ir al Formulario"),i()()())},dependencies:[X],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background:#f0f2f5;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{font-size:2.5em;color:#333;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin-bottom:30px}.button[_ngcontent-%COMP%]{font-size:1.2em;color:#fff;background:#007bff;padding:15px 30px;border:none;border-radius:5px;text-decoration:none;transition:background .3s ease}.button[_ngcontent-%COMP%]:hover{background:#0056b3}.button[_ngcontent-%COMP%]:active{background:#004494}"]})};var Re=[{path:"",component:R,loadChildren:()=>import("./chunk-J6ZZJVTA.js").then(e=>e.GlobalModule)}];var je={production:!0,apiUrl:"https://insuranceleadapi-production.up.railway.app/api/policyHolder/"};var _=class e{constructor(t){this.httpClient=t}apiUrl=je.apiUrl;findAll(t,n,r){let l=new K;return l=l.append("size",t),l=l.append("page",n),l=l.append("search",r),this.httpClient.get(this.apiUrl,{params:l})}delete(t){let n={headers:new J({"Content-Type":"application/json"})};return this.httpClient.delete(this.apiUrl+`${t}`,n)}createPolicyHolder(t){return this.httpClient.post(this.apiUrl,t)}findPolicyHolderById(t){return this.httpClient.get(this.apiUrl+`${t}`)}static \u0275fac=function(n){return new(n||e)(G(Q))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})};var g=class e{policyHolderSubject=new z;policyHolderObservable=this.policyHolderSubject.asObservable();notifyPolicyHolderChange(){this.policyHolderSubject.next(null)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})};var j=class e{constructor(t,n,r,l,u,Ct){this.data=t;this.dialogRef=n;this.fb=r;this.httpService=l;this.toastr=u;this.policyHolderService=Ct}formGroup;ngOnInit(){this.initForm()}cancel(){this.dialogRef.close()}save(){if(this.formGroup.valid){let t=this.formGroup.value;this.httpService.createPolicyHolder(t).subscribe({next:n=>{this.toastr.success("Policy Holder creado satisfactoriamente","Confirmaci\xF3n"),this.policyHolderService.notifyPolicyHolderChange(),this.dialogRef.close(!0)},error:n=>{console.error("Error al crear Policy Holder:",n)}})}else this.toastr.error("Por favor, complete todos los campos requeridos","Error")}initForm(){this.formGroup=this.fb.group({identificationNumber:[{value:null,disabled:!1},[C.required]],firstName:[{value:null,disabled:!1},[C.required]],middleName:[{value:null,disabled:!1}],lastName:[{value:null,disabled:!1},[C.required]],secondLastName:[{value:null,disabled:!1},[C.required]],phone:[{value:null,disabled:!1},[C.required]],email:[{value:null,disabled:!1},[C.required,C.email]],birthDate:[{value:null,disabled:!0},[C.required]],estimatedValue:[{value:null,disabled:!1},[C.required]],remark:[{value:null,disabled:!1}]})}static \u0275fac=function(n){return new(n||e)(p(Me),p(Ee),p(pe),p(_),p(P),p(g))};static \u0275cmp=v({type:e,selectors:[["app-form"]],decls:70,vars:3,consts:[["dp3",""],["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"container-fluid"],[1,"row"],[1,"col-6"],["formControlName","identificationNumber","name","identificationNumber","matInput","","type","text"],["formControlName","firstName","name","firstName","matInput","","type","text"],["formControlName","middleName","name","middleName","matInput","","type","text"],["formControlName","lastName","name","lastName","matInput","","type","text"],["formControlName","secondLastName","name","secondLastName","matInput","","type","text"],["formControlName","phone","name","phone","matInput","","type","text"],["formControlName","email","name","email","matInput","","type","text"],["formControlName","birthDate","name","birthDate","matInput","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["disabled","false"],["floatLabel","always"],["formControlName","estimatedValue","name","estimatedValue","matInput","","type","number","placeholder","0",1,"example-right-align"],["matTextPrefix",""],["matTextSuffix",""],["formControlName","remark","name","remark","matInput",""],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,r){if(n&1){let l=M();o(0,"h1",1),a(1,"Crear asegurado"),i(),o(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"mat-form-field")(8,"mat-label"),a(9,"Numero de identificacion"),i(),d(10,"input",7),i()(),o(11,"div",6)(12,"mat-form-field")(13,"mat-label"),a(14,"Primer nombre"),i(),d(15,"input",8),i()(),o(16,"div",6)(17,"mat-form-field")(18,"mat-label"),a(19,"Segundo nombre"),i(),d(20,"input",9),i()(),o(21,"div",6)(22,"mat-form-field")(23,"mat-label"),a(24,"Primer apellido"),i(),d(25,"input",10),i()(),o(26,"div",6)(27,"mat-form-field")(28,"mat-label"),a(29,"Segundo apellido"),i(),d(30,"input",11),i()(),o(31,"div",6)(32,"mat-form-field")(33,"mat-label"),a(34,"Tel\xE9fono"),i(),d(35,"input",12),i()(),o(36,"div",6)(37,"mat-form-field")(38,"mat-label"),a(39,"Email"),i(),d(40,"input",13),i()(),o(41,"div",6)(42,"mat-form-field")(43,"mat-label"),a(44,"Fecha de nacimiento"),i(),d(45,"input",14),o(46,"mat-hint"),a(47,"MM/DD/YYYY"),i(),d(48,"mat-datepicker-toggle",15)(49,"mat-datepicker",16,0),i()(),o(51,"div",6)(52,"mat-form-field",17)(53,"mat-label"),a(54,"Valor solicitud"),i(),d(55,"input",18),o(56,"span",19),a(57,"$\xA0"),i(),o(58,"span",20),a(59,".00"),i()()(),o(60,"div",6)(61,"mat-form-field")(62,"mat-label"),a(63,"Observaciones"),i(),d(64,"textarea",21),i()()()()()(),o(65,"div",22)(66,"button",23),h("click",function(){return S(l),y(r.cancel())}),a(67,"Cancelar"),i(),o(68,"button",24),h("click",function(){return S(l),y(r.save())}),a(69,"Guardar"),i()()}if(n&2){let l=q(50);m(3),b("formGroup",r.formGroup),m(42),b("matDatepicker",l),m(3),b("for",l)}},dependencies:[N,H,D,ie,ne,T,k,re,w,le,F,oe,De,He,Te,we,Fe,ke,me,de]})};function Ye(e,t){e&1&&(o(0,"th",28),a(1," Cedula "),i())}function We(e,t){if(e&1&&(o(0,"td",29),a(1),i()),e&2){let n=t.$implicit;m(),x(" ",n.identificationNumber," ")}}function Je(e,t){e&1&&(o(0,"th",28),a(1," Nombres "),i())}function Ke(e,t){if(e&1&&(o(0,"td",29),a(1),i()),e&2){let n=t.$implicit;m(),x(" ",n.firstName," ")}}function Qe(e,t){e&1&&(o(0,"th",28),a(1," Primer apellido "),i())}function Xe(e,t){if(e&1&&(o(0,"td",29),a(1),i()),e&2){let n=t.$implicit;m(),x(" ",n.lastName," ")}}function Ze(e,t){e&1&&(o(0,"th",28),a(1," Segundo apellido "),i())}function et(e,t){if(e&1&&(o(0,"td",29),a(1),i()),e&2){let n=t.$implicit;m(),x(" ",n.secondLastName," ")}}function tt(e,t){e&1&&(o(0,"th",28),a(1," Telefono "),i())}function it(e,t){if(e&1&&(o(0,"td",29),a(1),i()),e&2){let n=t.$implicit;m(),x(" ",n.phone," ")}}function nt(e,t){e&1&&(o(0,"th",28),a(1," Correo "),i())}function ot(e,t){if(e&1&&(o(0,"td",29),a(1),i()),e&2){let n=t.$implicit;m(),x(" ",n.email," ")}}function at(e,t){e&1&&(o(0,"th",28),a(1," Fecha de nacimiento "),i())}function rt(e,t){if(e&1&&(o(0,"td",29),a(1),i()),e&2){let n=t.$implicit;m(),x(" ",n.birthDate," ")}}function lt(e,t){e&1&&(o(0,"th",28),a(1," Valor estimado "),i())}function mt(e,t){if(e&1&&(o(0,"td",29),a(1),i()),e&2){let n=t.$implicit;m(),x(" ",n.estimatedInsuranceValue," ")}}function dt(e,t){e&1&&(o(0,"th",28),a(1," Observaciones "),i())}function pt(e,t){if(e&1&&(o(0,"td",29),a(1),i()),e&2){let n=t.$implicit;m(),x(" ",n.remark,"")}}function ct(e,t){e&1&&(o(0,"th",28),a(1," Actions "),i())}function st(e,t){if(e&1){let n=M();o(0,"td",29)(1,"div",2)(2,"div",30)(3,"button",31),h("click",function(){let l=S(n).$implicit,u=A();return y(u.delete(l.identificationNumber))}),o(4,"mat-icon"),a(5,"delete"),i()()(),o(6,"div",30)(7,"button",32)(8,"mat-icon"),a(9,"edit"),i()()()()()}}function ft(e,t){e&1&&d(0,"tr",33)}function ut(e,t){e&1&&d(0,"tr",34)}function xt(e,t){if(e&1&&(o(0,"tr",35)(1,"td",36)(2,"div",37)(3,"mat-icon",38),a(4,"error"),i(),a(5," No existen datos para mostrar "),i()()()),e&2){let n=A();m(),$("colspan",n.displayedColumns.length)}}var O=class e{constructor(t,n,r,l){this.httpService=t;this.toastr=n;this.dialog=r;this.policyHolderService=l}displayedColumns=["identificationNumber","firstName","lastName","secondLastName","phone","email","birthDate","estimatedValue","remark","actions"];dataSource=new Se([]);totalAmount=0;size=10;pageNumber=0;pageOptions=[1,5,10,25];searchText="";selectedId;modalType;ngOnInit(){this.FindAll(),this.policyHolderService.policyHolderObservable.subscribe(()=>{this.FindAll()})}FindAll(){this.httpService.findAll(this.size,this.pageNumber,this.searchText).subscribe({next:t=>{this.dataSource.data=t.data.element,this.totalAmount=t.data.total},error:t=>{console.error("Error al obtener datos:",t)}})}changePage(t){this.size=t.pageSize,this.pageNumber=t.pageIndex,this.FindAll()}delete(t){if(confirm("\xBFEst\xE1 seguro/a que desea eliminar el elemento?")){let r=t;this.httpService.delete(t).subscribe({next:l=>{this.toastr.success("Elemento eliminado satisfactoriamente","Confirmaci\xF3n"),this.FindAll()},error:l=>{console.error("Error al obtener datos:",l)}})}}createHolder(){this.dialog.open(j,{disableClose:!0,autoFocus:!0,closeOnNavigation:!1,position:{top:"30px"},width:"700px",data:{type:"Create"}}).afterClosed().subscribe(n=>{console.log(`dialog result: ${n}`)})}editModal(){}static \u0275fac=function(n){return new(n||e)(p(_),p(P),p(Ne),p(g))};static \u0275cmp=v({type:e,selectors:[["app-index"]],decls:54,vars:9,consts:[[1,"custom-toolbar"],[1,"container-fluid"],[1,"row"],[1,"col","6"],["mat-flat-button","","color","primary",1,"my-2",3,"click"],["appearance","fill"],["name","searchText","matInput","",3,"ngModelChange","keyup.enter","ngModel"],["matSuffix",""],[1,"container-fluid","my-3"],[1,"col"],[1,"mat-elevation-z8"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","identificationNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","secondLastName"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","birthDate"],["matColumnDef","estimatedValue"],["matColumnDef","remark"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],["mat-header-cell",""],["mat-cell",""],[1,"col-3"],["matTooltip","Eliminar elemento","color","warn","mat-mini-fab","",3,"click"],["matTooltip","Editar","mat-mini-fab",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mat-cell"],[1,"message-no-data"],[1,"mx-3"]],template:function(n,r){n&1&&(o(0,"mat-toolbar",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),h("click",function(){return r.createHolder()}),o(5,"mat-icon"),a(6,"add_circle_outline"),i(),a(7," Crear "),i()(),o(8,"div",3)(9,"mat-form-field",5)(10,"mat-label"),a(11,"Buscar"),i(),o(12,"input",6),W("ngModelChange",function(u){return Y(r.searchText,u)||(r.searchText=u),u}),h("keyup.enter",function(){return r.FindAll()}),i(),o(13,"mat-icon",7),a(14,"search"),i()()()()()(),o(15,"div",8)(16,"div",2)(17,"div",9)(18,"div",10)(19,"table",11),s(20,12),c(21,Ye,2,0,"th",13)(22,We,2,1,"td",14),f(),s(23,15),c(24,Je,2,0,"th",13)(25,Ke,2,1,"td",14),f(),s(26,16),c(27,Qe,2,0,"th",13)(28,Xe,2,1,"td",14),f(),s(29,17),c(30,Ze,2,0,"th",13)(31,et,2,1,"td",14),f(),s(32,18),c(33,tt,2,0,"th",13)(34,it,2,1,"td",14),f(),s(35,19),c(36,nt,2,0,"th",13)(37,ot,2,1,"td",14),f(),s(38,20),c(39,at,2,0,"th",13)(40,rt,2,1,"td",14),f(),s(41,21),c(42,lt,2,0,"th",13)(43,mt,2,1,"td",14),f(),s(44,22),c(45,dt,2,0,"th",13)(46,pt,2,1,"td",14),f(),s(47,23),c(48,ct,2,0,"th",13)(49,st,10,0,"td",14),f(),c(50,ft,1,0,"tr",24)(51,ut,1,0,"tr",25)(52,xt,6,1,"tr",26),i(),o(53,"mat-paginator",27),h("page",function(u){return r.changePage(u)}),i()()()()()),n&2&&(m(12),U("ngModel",r.searchText),m(7),b("dataSource",r.dataSource),m(31),b("matHeaderRowDef",r.displayedColumns),m(),b("matRowDefColumns",r.displayedColumns),m(2),b("length",r.totalAmount)("pageSize",r.size)("showFirstLastButtons",!0)("pageSizeOptions",r.pageOptions)("pageIndex",r.pageNumber))},dependencies:[N,Z,ee,te,H,D,T,k,ce,fe,be,ue,se,he,xe,Ce,ve,_e,ge,Ie,w,F,ae,ye]})};var Ve=[{path:"policyHolder/index",component:O,loadChildren:()=>import("./chunk-XHPI3XYK.js").then(e=>e.PolicyHolderModule)}];var ze=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=B({type:e});static \u0275inj=L({imports:[V.forChild([...Re,...Ve]),V]})};export{ze as RoutesModule};
